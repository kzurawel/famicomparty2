@charset "UTF-8";

html, body {
  overscroll-behavior-y: none;
}

body {
	height: 100dvh;
}

body > header,
body > footer {
	box-sizing: border-box;
}

@font-face {
  font-family: 'Korrin';
  src: url('/fonts/QTKorrin.woff2');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Korrin';
  src: url('/fonts/QTKorrin-Italic.woff2');
  font-weight: normal;
  font-style: italic;
}

@font-face {
	font-family: 'DejaVu Sans Mono';
	src: url('/fonts/DejaVuSansMono.woff2') format('woff2');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'DejaVu Sans Mono';
	src: url('/fonts/DejaVuSansMono-Oblique.woff2') format('woff2');
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'DejaVu Sans Mono';
	src: url('/fonts/DejaVuSansMono-Bold.woff2') format('woff2');
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'DejaVu Sans Mono';
	src: url('/fonts/DejaVuSansMono-BoldOblique.woff2') format('woff2');
	font-weight: bold;
	font-style: italic;
}

/* Tufte CSS */
html {
	font-size: 15px;
}

body {
	background-color: #fff3dc;
	color: #111;
	margin: 0 auto;
	// font-family: 'Computer Modern Serif', Palatino, 'Palatino Linotype', 'Palatino LT STD',
		// 'Book Antiqua', Georgia, serif;
  font-family: 'Korrin', sans-serif;
}

h1 {
	font-weight: bold;
	margin-top: 2rem;
	margin-bottom: 1.5rem;
	font-size: 3.2rem;
	line-height: 1;
}

h2 {
	font-style: italic;
	font-weight: 400;
	margin-top: 2.1rem;
	margin-bottom: 1.4rem;
	font-size: 2.2rem;
	line-height: 1;
}

h3 {
	font-style: italic;
	font-weight: 400;
	font-size: 1.7rem;
	margin-top: 2rem;
	margin-bottom: 1.4rem;
	line-height: 1;
}

hr {
	display: block;
	height: 1px;
	width: 55%;
	margin: 1em 0;
	border: 0;
	border-top: 1px solid #ccc;
	padding: 0;
}

p.subtitle {
	font-style: italic;
	margin-top: 1rem;
	margin-bottom: 1rem;
	font-size: 1.8rem;
	display: block;
	line-height: 1;
}

p.toc {
	margin-bottom: 0.1rem;
}

ul.toc {
	margin-top: 0.1rem;
	padding-left: 3rem;
}

.danger {
	color: red;
}

.wrapper {
	width: 87.5%;
	padding-left: 12.5%;
	max-width: 1400px;
	counter-reset: sidenote-counter;
}

article,
main {
	position: relative;
	padding: 3rem 0 6rem;
}

section {
	padding-top: 1rem;
	padding-bottom: 1rem;
}

p,
ol,
ul {
	font-size: 1.4rem;
	line-height: 2rem;
}

p {
	margin-top: 1.4rem;
	margin-bottom: 1.4rem;
	padding-right: 0;
	vertical-align: baseline;
}

blockquote {
	border-left: 3px solid #333;
	font-size: 1.4rem;
	margin-left: 0;
	padding-left: 40px;
}

blockquote p {
	width: 55%;
	margin-right: 40px;
}

blockquote footer {
	width: 55%;
	font-size: 1.1rem;
	text-align: right;
}

/* Margin notes */
.marginnote code {
  font-size: 1rem;
}

article > p,
article > footer,
article > table,
main > p,
main > footer,
main > table,
section > p,
section > footer,
section > table {
	width: 55%;
}

article > ol,
article > ul,
main > ol,
main > ul,
section > ol,
section > ul {
	width: 50%;
	-webkit-padding-start: 5%;
}

li:not(:first-child) {
	margin-top: 0.25rem;
}

figure {
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
	max-width: 55%;
	-webkit-margin-start: 0;
	-webkit-margin-end: 0;
	margin: 0 0 3em 0;
	overflow: hidden;
}

figure img {
	display: block;
	margin: 0 auto 1rem;
}

figcaption {
	float: right;
	clear: right;
	margin-top: 0;
	margin-bottom: 0;
	font-size: 1.1rem;
	line-height: 1.6;
	vertical-align: baseline;
	position: relative;
	max-width: 66%;
}

figure.fullwidth figcaption {
	margin-right: 24%;
}

a:link,
a:visited {
	color: #82642b;
}

a:link {
	text-decoration: none;
	background: linear-gradient(#fff3dc, #fff3dc), linear-gradient(#fff3dc, #fff3dc),
		linear-gradient(#333, #333);
	background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
	background-repeat: no-repeat, no-repeat, repeat-x;
	text-shadow: 0.03em 0 #fff3dc, -0.03em 0 #fff3dc, 0 0.03em #fff3dc, 0 -0.03em #fff3dc,
		0.06em 0 #fff3dc, -0.06em 0 #fff3dc, 0.09em 0 #fff3dc, -0.09em 0 #fff3dc, 0.12em 0 #fff3dc,
		-0.12em 0 #fff3dc, 0.15em 0 #fff3dc, -0.15em 0 #fff3dc;
	background-position: 0% 93%, 100% 93%, 0% 93%;
}

a:link::selection {
	text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe,
		0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe,
		-0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
	background: #b4d5fe;
}

a:link::-moz-selection {
	text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe,
		0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe,
		-0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
	background: #b4d5fe;
}

@media screen and (-webkit-min-device-pixel-ratio: 0) {
	a:link {
		background-position-y: 87%, 87%, 87%;
	}
}

img {
	max-width: 100%;
}

div.fullwidth,
table.fullwidth {
	width: 100%;
}

div.table-wrapper {
	overflow-x: auto;
}

div.table-wrapper th,
div.table-wrapper td {
	padding: 0.2rem 2rem;
	text-align: left;
	font-size: 1.2rem;
}

div.table-wrapper th {
	text-decoration: underline;
  font-size: 1.3rem;
}

div.table-wrapper td:first-child,
div.table-wrapper th:first-child {
	padding-left: 0;
}

div.table-wrapper td:last-child,
div.table-wrapper td:last-child {
	padding-right: 0;
}

div.table-wrapper:has(+ canvas) {
	margin-bottom: 4rem;
}

.table-of-contents {
	list-style-type: none;
}

.table-of-contents li:before {
	content: '- ';
}

.chapter-links {
	display: flex;
	justify-content: space-between;
	width: 55%;
}

code {
	color: #88030f;
	// font-family: 'Victor Mono', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
  font-family: 'DejaVu Sans Mono';
	font-size: 1.25rem;
	line-height: 1.42;
}

h1 > code,
h2 > code,
h3 > code {
	font-size: 0.8em;
}

pre code {
  background: #292d3e;
  display: block;
	padding: 1em;
	margin: 0 0 0.5em;
	max-width: 55%;
}

pre[data-code-title]::before {
	background: #eee;
	border: 1px solid #292929;
	color: #292929;
	content: attr(data-code-title);
	display: block;
	font-style: italic;
	max-width: 55.02%;
	padding: 0.5rem 1rem;
}

code[data-line-numbers] > span[data-line-number]::before {
	content: attr(data-line-number);
  border-right: 1px dashed gray;
	display: inline-block;
	width: 1rem;
	padding-right: 1.5rem;
  margin-right: 0.5rem;
	margin-left: 1rem;
	text-align: right;
	color: gray;
  -webkit-user-select: none;
  user-select: none;
}

video.stretch {
  width: 100%;
}



@media screen and (max-width: 760px) {
  .header-wrapper {
    display: block !important;
  }

  .site-title {
    display: block !important;
    width: 100%;
  }

  .header-links ul {
    padding: 0;
  }

  article, .wrapper {
    width: 84%;
    padding-left: 8%;
    padding-right: 8%;
  }

  hr, article > p, article > footer, article > table,
 section > p, section > footer, section > table {
    width: 100%;
  }

  pre {
    width: 97%;
  }

  pre code,
  pre[data-code-title]:before {
    max-width: 100%;
    overflow: scroll;
  }

  article > ol, article > ul,
  section > ol, section > ul {
    width: 90%;
  }

  figure {
    max-width: 90%;
  }

  figcaption, figure.fullwidth figcaption {
    margin-right: 0;
    max-width: none;
  }

  blockquote {
    margin-left: 1.5em;
    margin-right: 0;
  }

  blockquote p, blockquote footer {
    width: 100%;
  }

  label.margin-toggle:not(.sidenote-number) {
    display: inline;
  }

  .sidenote, .marginnote {
    display: none;
  }

  .margin-toggle:checked + .sidenote,
  .margin-toggle:checked + .marginnote {
    display: block;
    float: left;
    left: 1rem;
    clear: both;
    width: 95%;
    margin: 1rem 2.5%;
    vertical-align: baseline;
    position: relative;
  }

  label {
    cursor: pointer;
  }

  div.table-wrapper, table {
    width: 85%;
  }

  img {
    width: 100%;
  }

  video {
    width: 100%;
  }

  .chapter-links {
    width: 100% !important;
  }

  .chapter-links a {
    background: none;
    text-decoration: none;
  }

  .nes-example {
    width: 256px !important;
    height: 240px !important;
  }

  .controller {
    width: 100% !important;
  }

  .controller .dpad {
    width: 44% !important;
  }

  .controller .dpad button {
    width: 42% !important;
  }

  .controller .selstart {
    margin: 0 0.5rem !important;
  }
}
